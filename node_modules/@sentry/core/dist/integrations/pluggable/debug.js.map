{"version":3,"file":"debug.js","sourceRoot":"","sources":["../../../src/integrations/pluggable/debug.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2CAAiD;AASjD,YAAY;AACZ;IASE;;OAEG;IACH,eAAmB,OAAsB;QAXzC;;WAEG;QACI,SAAI,GAAW,OAAO,CAAC;QAS5B,IAAI,CAAC,OAAO,cACV,QAAQ,EAAE,KAAK,EACf,SAAS,EAAE,KAAK,IACb,OAAO,CACX,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,uBAAO,GAAd;QAAA,iBAwBC;QAvBC,wBAAc,CAAC,UAAA,KAAK;YAClB,KAAK,CAAC,iBAAiB,CAAC,UAAO,KAAkB,EAAE,IAAsB;;oBACvE,4BAA4B;oBAC5B,6BAA6B;oBAE7B,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;wBACzB,QAAQ,CAAC;qBACV;oBAED,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;wBAC1B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;wBAC5C,IAAI,IAAI,EAAE;4BACR,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;yBAC5C;qBACF;yBAAM;wBACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;wBACnB,IAAI,IAAI,EAAE;4BACR,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;yBACnB;qBACF;oBACD,sBAAO,KAAK,EAAC;;iBACd,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IACH,YAAC;AAAD,CAAC,AAhDD,IAgDC;AAhDY,sBAAK","sourcesContent":["import { configureScope } from '@sentry/minimal';\nimport { Integration, SentryEvent, SentryEventHint } from '@sentry/types';\n\n/** JSDoc */\ninterface DebugOptions {\n  stringify?: boolean;\n  debugger?: boolean;\n}\n\n/** JSDoc */\nexport class Debug implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = 'Debug';\n\n  /** JSDoc */\n  private readonly options: DebugOptions;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options?: DebugOptions) {\n    this.options = {\n      debugger: false,\n      stringify: false,\n      ...options,\n    };\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public install(): void {\n    configureScope(scope => {\n      scope.addEventProcessor(async (event: SentryEvent, hint?: SentryEventHint) => {\n        // tslint:disable:no-console\n        // tslint:disable:no-debugger\n\n        if (this.options.debugger) {\n          debugger;\n        }\n\n        if (this.options.stringify) {\n          console.log(JSON.stringify(event, null, 2));\n          if (hint) {\n            console.log(JSON.stringify(hint, null, 2));\n          }\n        } else {\n          console.log(event);\n          if (hint) {\n            console.log(hint);\n          }\n        }\n        return event;\n      });\n    });\n  }\n}\n"]}